3. The "Bouncer" (Auth Middleware)
The Problem: We built the logic for roles, but we didn't fully lock the doors. Right now, a smart user might be able to guess the URL /admin/dashboard and see it. The Fix: Strict Middleware protection on the Server.

ðŸ‘‰ Action: Update server/routes.ts (Wrap your sensitive routes).

TypeScript
// Middleware to check if user is Admin
function requireAdmin(req, res, next) {
  if (req.isAuthenticated() && req.user.role === 'admin') {
    return next();
  }
  res.status(403).json({ message: "Access Denied: God Mode Only" });
}

// PROTECT THE ROUTES
app.get("/api/admin/stats", requireAdmin, async (req, res) => { ... });
app.post("/api/services/edit", requireAdmin, async (req, res) => { ... });
4. The "Flight Tower" (Admin Dashboard UI)
The Problem: You have "God Mode" permissions, but you don't have a screen to see the business. You are flying blind. The Fix: A simple table view to see every active job and every active worker.

ðŸ‘‰ Action: Create client/src/pages/admin/dashboard.tsx.

TypeScript
import { useQuery } from "@tanstack/react-query";
import { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from "@/components/ui/table";

export function AdminDashboard() {
  const { data: jobs } = useQuery({ queryKey: ['admin-jobs'], queryFn: fetchAllJobs });

  return (
    <div className="p-8 bg-slate-100 min-h-screen">
      <h1 className="text-3xl font-bold mb-6">Mission Control ðŸš€</h1>
      
      <div className="bg-white rounded-lg shadow">
        <Table>
          <TableHeader>
            <TableRow>
              <TableHead>Status</TableHead>
              <TableHead>Customer</TableHead>
              <TableHead>Worker</TableHead>
              <TableHead>Price</TableHead>
              <TableHead>Actions</TableHead>
            </TableRow>
          </TableHeader>
          <TableBody>
            {jobs?.map((job) => (
              <TableRow key={job.id}>
                <TableCell>
                  <span className={`px-2 py-1 rounded-full text-xs font-bold ${
                    job.status === 'open' ? 'bg-green-100 text-green-800' : 'bg-blue-100 text-blue-800'
                  }`}>
                    {job.status.toUpperCase()}
                  </span>
                </TableCell>
                <TableCell>{job.customerName}</TableCell>
                <TableCell>{job.haulerName || "Unassigned"}</TableCell>
                <TableCell>${job.price / 100}</TableCell>
                <TableCell>
                  <button className="text-red-500 font-bold hover:underline">Force Cancel</button>
                </TableCell>
              </TableRow>
            ))}
          </TableBody>
        </Table>
      </div>
    </div>
  );
}
ðŸš€ The Final "Launch" Sequence
You are done building features. Now you are building the company.

Switch the Database: Connect to Neon/Supabase so your data is real.

Add the Manifest: Make it installable on phones.

Deploy: Click the "Deploy" button in Replit (top right). Choose "Autoscale" so it stays online 24/7.